"use strict";

const DAYS = ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"];
const X = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>';
const DELETE_ICON = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>';
const PENCIL = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>';
const PRINT = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M22 8H2v9h4v4h12v-4h4V8zm-6 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"/></svg>';
const MENU = '<svg viewBox="1 1 128 128"><circle cx= "128" cy="64" r="14" fill="#ff4"></circle><circle cx= "100" cy="16" r="14" fill="#f44"></circle><circle cx="0" cy="112" r="14" fill="#48f"></circle></svg>';
const DOWNLOAD = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>';
const UPLOAD = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"/></svg>';
const FILE = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>';
const PLUS = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>';
const BUILD = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12.09 2.91C10.08.9 7.07.49 4.65 1.67l4.34 4.34-3 3-4.34-4.34C.48 7.1.89 10.09 2.9 12.1c1.86 1.86 4.58 2.35 6.89 1.48l9.82 9.82 3.71-3.71-9.78-9.79c.92-2.34.44-5.1-1.45-6.99z"/></svg>';
const UP = '<svg height="12px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 12"><path d="M0 0h24v12H0z" fill="none"/><path d="M0 10 H24 L12 2z"/></svg>';
const DOWN = '<svg height="12px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 12"><path d="M0 0h24v12H0z" fill="none"/><path d="M0 2 H24 L12 10z"/></svg>';
const REORDER = '<svg height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M0 14 H24 L12 22z"/><path d="M0 10 H24 L12 2z"/></svg>';
const ARROW_DOWN = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 10l5 5 5-5z"/></svg>';
const CIRCLE = '<svg viewBox="0 0 24 24"><circle cx= "12" cy="12" r="6"></svg>'
const PAINT = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"/></svg>';
const ABOUT = '<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>';
const SHEETS = '<?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 18.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 204.376 204.376" style="enable-background:new 0 0 204.376 204.376;" xml:space="preserve"><path d="M171.247,204.376c2.485,0,4.5-2.015,4.5-4.5V61.35h-51.744c-7.502,0-13.605-6.107-13.605-13.614V0H33.13	c-2.485,0-4.5,2.015-4.5,4.5v195.376c0,2.485,2.015,4.5,4.5,4.5H171.247z M52.891,87.627h99.717v80H52.891V87.627z M106.749,143.96	h37.858v15.667h-37.858V143.96z M60.891,119.294h37.858v16.666H60.891V119.294z M60.891,143.96h37.858v15.667H60.891V143.96z	 M106.749,95.627h37.858v15.667h-37.858V95.627z M106.749,119.294h37.858v16.666h-37.858V119.294z M60.891,95.627h37.858v15.667	H60.891V95.627z M120.397,47.736v-37.34L164.2,51.35h-40.197C122.014,51.35,120.397,49.729,120.397,47.736z"/>';

//const ONLINE_SCHEDULE = {"blocks":[{"start":"9:00","end":"9:45","n":0},{"start":"9:55","end":"10:40","n":1},{"start":"10:45","end":"11:30","n":2},{"start":"1:00","end":"1:40","n":3},{"start":"1:50","end":"2:30","n":4},{"start":"2:35","end":"3:15","n":5},"",{"start":"10:50","end":"11:10","n":2},{"start":"2:40","end":"3:00","n":5},{"start":"1:00","end":"1:20","n":3}],"grades":[{"name":"No Class","abbr":"NA","defaultBlock":0,"color":[2,3],"teachers":["Teacher A"]},{"name":"Pre-Kindergarten","abbr":"Pre-K","defaultBlock":0,"color":[21,0],"teachers":["AM","PM"]},{"name":"Kindergarten","abbr":"K","defaultBlock":3,"color":[13,0],"teachers":["Do","Young","Hanlon","Smith","Castro","Rosario"]},{"name":"1st Grade","abbr":"1st","defaultBlock":5,"color":[14,0],"teachers":["Lazaro (Lo)","Gunaratnam","Ordonez","Rios","Weaver","French"]},{"name":"2nd Grade","abbr":"2nd","defaultBlock":4,"color":[15,0],"teachers":["Rogers","Menjivar","Molina","Batson","Wilkerson","Campbell","Curzi"]},{"name":"3rd Grade","abbr":"3rd","defaultBlock":0,"color":[17,0],"teachers":["Wang","Joyner","Craig","Fries","Gomez","Johnson"]},{"name":"4th Grade","abbr":"4th","defaultBlock":1,"color":[19,0],"teachers":["Parks","Kinsella","Lazaro","Armstrong","Macario","Molina"]},{"name":"5th Grade","abbr":"5th","defaultBlock":2,"color":[20,0],"teachers":["Francois","Woods","Ewing","Carl","Ward"]}],"specials":[{"name":"No Special","abbr":"NS","specialist":"N/A","color":[2,3]},{"name":"Art","abbr":"A","specialist":"Fowler","color":[4,0]},{"name":"Art *","abbr":"A *","specialist":"McIntyre","color":[4,0]},{"name":"Music","abbr":"M","specialist":"Russell","color":[10,0]},{"name":"Music *","abbr":"M *","specialist":"Caramanica","color":[10,0]},{"name":"PE","abbr":"P","specialist":"Detzner","color":[11,0]},{"name":"PE *","abbr":"P *","specialist":"Harding","color":[11,0]},{"name":"STEM","abbr":"S","specialist":"Haskins","color":[8,0]},{"name":"STEM *","abbr":"S *","specialist":"Dickey","color":[8,0]}],"classes":[[3,0,2,0,1],[3,1,2,0,3],[3,3,2,0,6],[3,4,2,0,8],[3,0,2,1,3],[3,1,2,1,5],[3,3,2,1,7],[3,0,2,2,5],[3,1,2,2,8],[3,3,2,2,2],[3,2,2,2,3],[3,0,2,3,8],[3,3,2,3,1],[3,2,2,3,4],[3,4,2,3,5],[3,1,2,4,2],[3,3,2,4,3],[3,4,2,4,6],[3,0,2,4,7],[3,4,2,5,2],[3,1,2,5,4],[3,3,2,5,5],[3,2,2,5,7],[5,0,3,0,1],[5,3,3,0,4],[5,4,3,0,6],[5,2,3,0,7],[5,0,3,1,3],[5,1,3,1,5],[5,3,3,1,8],[5,2,3,1,1],[5,0,3,2,5],[4,4,4,0,6],[5,3,3,2,1],[5,4,3,2,3],[5,0,3,3,7],[5,4,3,3,1],[5,2,3,3,3],[5,3,3,3,5],[5,1,3,4,1],[5,3,3,4,3],[5,3,3,5,6],[5,4,3,4,7],[5,4,3,5,2],[5,2,3,5,4],[5,2,3,4,6],[5,1,3,5,7],[4,0,4,0,1],[4,1,4,0,3],[5,2,3,2,8],[4,3,4,0,7],[4,0,4,1,3],[4,3,4,1,6],[4,2,4,1,7],[4,4,4,1,1],[4,0,4,2,5],[4,1,4,2,7],[4,3,4,2,1],[4,4,4,2,3],[4,0,4,3,7],[4,2,4,3,1],[4,3,4,3,3],[4,4,4,3,5],[4,1,4,4,1],[4,2,4,4,3],[4,3,4,4,5],[4,4,4,4,7],[4,1,4,5,2],[4,3,4,5,4],[4,2,4,5,6],[4,0,4,5,8],[4,2,4,6,4],[4,1,4,6,5],[4,4,4,6,8],[4,3,4,6,2],[0,0,5,0,1],[0,1,5,0,3],[0,4,5,0,6],[0,3,5,0,7],[0,0,5,2,3],[0,3,5,2,6],[0,4,5,2,1],[0,0,5,1,5],[0,1,5,1,7],[0,3,5,1,1],[0,4,5,1,3],[0,0,5,3,7],[0,4,5,3,2],[0,3,5,3,3],[0,1,5,3,5],[0,1,5,4,1],[0,3,5,4,4],[0,4,5,4,5],[0,0,5,4,8],[0,3,5,5,2],[0,1,5,5,4],[0,0,5,5,6],[0,4,5,5,7],[1,0,6,0,1],[1,3,6,0,3],[1,4,6,0,6],[1,1,6,0,8],[1,1,6,1,4],[1,3,6,1,6],[1,0,6,1,7],[1,4,6,1,2],[1,0,6,2,5],[1,1,6,2,7],[1,3,6,2,1],[1,4,6,2,3],[1,0,6,3,8],[1,1,6,3,1],[1,3,6,3,4],[1,4,6,3,5],[1,4,6,4,1],[1,1,6,4,3],[1,0,6,4,6],[1,3,6,4,7],[1,3,6,5,2],[1,0,6,5,3],[1,1,6,5,5],[1,4,6,5,7],[2,4,7,0,2],[2,1,7,2,3],[2,0,7,2,6],[2,3,7,2,7],[2,3,7,3,2],[2,1,7,3,5],[2,0,7,3,8],[2,4,7,2,1],[2,3,7,0,6],[2,1,7,0,7],[2,0,7,0,3],[2,4,7,3,3],[2,0,7,1,7],[2,3,7,1,1],[2,1,7,1,4],[2,4,7,1,5],[2,0,7,4,5],[2,3,7,4,3],[2,4,7,4,7],[0,1,5,2,8],[7,3,1,0,4],[7,4,1,0,6],[9,3,1,1,4],[8,1,1,1,2],[9,2,1,1,6],[7,0,1,0,1],[2,1,7,4,1],[3,2,2,1,1]],"palette":["#000","#fff","#ddd","#999","#f66","#fc8","#fe8","#be8","#6d9","#9ee","#4ad","#a8e","#f9e","#f23","#fa0","#ff0","#bf0","#7c0","#8ff","#0bf","#a2c","#f4f"]};
const ORIGINAL_SCHEDULE = {"blocks":[{"start":"9:00","end":"9:45","n":0},{"start":"9:55","end":"10:40","n":1},{"start":"10:50","end":"11:35","n":2},{"start":"1:00","end":"1:40","n":3},{"start":"1:50","end":"2:30","n":4},{"start":"2:35","end":"3:15","n":5},"",{"start":"1:40","end":"2:00","n":4},{"start":"10:40","end":"11:00","n":2},{"start":"2:40","end":"3:00","n":5},{"start":"1:30","end":"1:50","n":3}],"grades":[{"name":"No Class","abbr":"NA","defaultBlock":0,"color":[2,3],"teachers":["Teacher A"]},{"name":"Pre-Kindergarten","abbr":"Pre-K","defaultBlock":0,"color":[21,0],"teachers":["AM","PM"]},{"name":"Kindergarten","abbr":"K","defaultBlock":3,"color":[13,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E","Teacher F"]},{"name":"1st Grade","abbr":"1st","defaultBlock":5,"color":[14,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E","Teacher F"]},{"name":"2nd Grade","abbr":"2nd","defaultBlock":4,"color":[15,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E","Teacher F","Teacher G"]},{"name":"3rd Grade","abbr":"3rd","defaultBlock":0,"color":[17,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E","Teacher F","METS"]},{"name":"4th Grade","abbr":"4th","defaultBlock":1,"color":[19,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E","Teacher F"]},{"name":"5th Grade","abbr":"5th","defaultBlock":2,"color":[20,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D*","Teacher E"]}],"specials":[{"name":"No Special","abbr":"NS","specialist":"N/A","color":[2,3]},{"name":"Art","abbr":"A","specialist":"Fowler","color":[4,0]},{"name":"Art *","abbr":"A *","specialist":"McIntyre","color":[4,0]},{"name":"Music","abbr":"M","specialist":"Russell","color":[10,0]},{"name":"Music *","abbr":"M *","specialist":"Caramanica","color":[10,0]},{"name":"PE","abbr":"P","specialist":"Detzner","color":[11,0]},{"name":"PE *","abbr":"P *","specialist":"Harding","color":[11,0]},{"name":"STEM","abbr":"S","specialist":"Haskins","color":[8,0]},{"name":"STEM *","abbr":"S *","specialist":"Dickey","color":[8,0]}],"classes":[[3,0,2,0,1],[3,1,2,0,3],[3,3,2,0,6],[3,4,2,0,8],[3,0,2,1,3],[3,1,2,1,5],[3,3,2,1,7],[3,4,2,1,1],[3,0,2,2,5],[3,1,2,2,8],[3,3,2,2,2],[3,4,2,2,3],[3,0,2,3,8],[3,3,2,3,1],[3,2,2,3,4],[3,4,2,3,5],[3,1,2,4,1],[3,3,2,4,3],[3,4,2,4,6],[3,0,2,4,7],[3,4,2,5,2],[3,1,2,5,4],[3,3,2,5,5],[3,2,2,5,8],[5,0,3,0,1],[4,3,3,0,4],[5,4,3,0,6],[5,2,3,0,7],[5,0,3,1,3],[5,1,3,1,5],[4,3,3,1,7],[5,2,3,1,1],[5,0,3,2,5],[4,4,4,0,6],[4,3,3,2,2],[5,4,3,2,3],[5,0,3,3,7],[4,3,3,3,1],[5,2,3,3,3],[5,4,3,3,5],[5,1,3,4,1],[4,3,3,4,3],[4,3,3,5,5],[5,4,3,4,7],[5,4,3,5,1],[5,2,3,5,4],[5,2,3,4,6],[5,1,3,5,8],[4,0,4,0,1],[4,1,4,0,4],[5,2,3,2,8],[5,3,4,0,7],[4,0,4,1,3],[5,3,4,1,6],[4,2,4,1,7],[4,4,4,1,1],[4,0,4,2,5],[4,1,4,2,7],[5,3,4,2,1],[4,4,4,2,3],[4,0,4,3,7],[4,2,4,3,1],[5,3,4,3,3],[4,4,4,3,5],[4,1,4,4,1],[4,2,4,4,3],[5,3,4,4,5],[4,4,4,4,7],[4,4,4,5,2],[5,3,4,5,4],[4,2,4,5,6],[4,1,4,5,8],[4,2,4,6,4],[4,1,4,6,5],[4,4,4,6,8],[5,3,4,6,2],[0,0,5,0,1],[0,1,5,0,3],[0,4,5,0,6],[0,3,5,0,7],[0,0,5,2,3],[0,3,5,2,6],[1,2,5,2,2],[0,0,5,1,5],[0,1,5,1,7],[0,3,5,1,1],[0,4,5,1,3],[0,0,5,3,7],[1,2,5,3,1],[0,3,5,3,3],[0,1,5,3,5],[0,1,5,4,1],[1,2,5,4,3],[0,3,5,4,5],[0,0,5,4,8],[0,3,5,5,2],[0,1,5,5,4],[1,2,5,5,6],[0,4,5,5,8],[1,0,6,0,1],[1,1,6,0,3],[1,4,6,0,6],[0,2,6,0,8],[1,0,6,1,3],[1,3,6,1,6],[0,2,6,1,7],[1,4,6,1,2],[1,0,6,2,5],[1,1,6,2,7],[0,2,6,2,2],[1,4,6,2,3],[1,0,6,3,7],[0,2,6,3,1],[1,3,6,3,4],[1,4,6,3,5],[1,3,6,4,1],[0,2,6,4,3],[1,0,6,4,6],[1,4,6,4,7],[1,3,6,5,2],[1,1,6,5,4],[0,2,6,5,6],[1,4,6,5,8],[2,4,7,3,2],[2,1,7,2,3],[2,2,7,2,6],[2,3,7,2,7],[2,3,7,3,4],[2,1,7,3,5],[2,2,7,3,7],[2,4,7,2,1],[2,3,7,0,6],[2,1,7,0,7],[2,0,7,0,1],[2,4,7,0,3],[2,0,7,1,7],[2,2,7,1,1],[2,3,7,1,3],[2,4,7,1,5],[2,1,7,4,1],[2,2,7,4,3],[2,3,7,4,5],[2,4,7,4,7],[0,1,5,2,8],[8,1,1,0,4],[8,0,1,0,6],[10,3,1,1,4],[0,0,5,6,6],[1,2,5,6,7],[0,3,5,6,4],[0,4,5,6,2],[9,4,1,1,2],[10,2,1,1,6],[8,2,1,0,2]],"palette":["#000","#fff","#ddd","#999","#f66","#fc8","#fe8","#be8","#6d9","#9ee","#4ad","#a8e","#f9e","#f23","#fa0","#ff0","#bf0","#7c0","#8ff","#0bf","#a2c","#f4f"]};
const EMPTY_SCHEDULE = {"blocks":[{"start":"9:00","end":"9:45","n":0},{"start":"9:55","end":"10:40","n":1},{"start":"10:45","end":"11:30","n":2},{"start":"1:00","end":"1:40","n":3},{"start":"1:50","end":"2:30","n":4},{"start":"2:35","end":"3:15","n":5},""],"grades":[{"name":"No Class","abbr":"NA","defaultBlock":0,"color":[2,3],"teachers":["Teacher A"]},{"name":"Pre-Kindergarten","abbr":"Pre-K","defaultBlock":0,"color":[21,0],"teachers":["AM","PM"]},{"name":"Kindergarten","abbr":"K","defaultBlock":3,"color":[13,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"1st Grade","abbr":"1st","defaultBlock":5,"color":[14,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"2nd Grade","abbr":"2nd","defaultBlock":4,"color":[15,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"3rd Grade","abbr":"3rd","defaultBlock":0,"color":[17,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"4th Grade","abbr":"4th","defaultBlock":1,"color":[19,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"5th Grade","abbr":"5th","defaultBlock":2,"color":[20,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]}],"specials":[{"name":"No Special","abbr":"NS","specialist":"N/A","color":[2,3]},{"name":"Art","abbr":"A","specialist":"FT Art","color":[4,0]},{"name":"Art *","abbr":"A *","specialist":"PT Art","color":[4,0]},{"name":"Music","abbr":"M","specialist":"FT Music","color":[10,0]},{"name":"Music *","abbr":"M *","specialist":"PT Music","color":[10,0]},{"name":"PE","abbr":"P","specialist":"FT PE","color":[11,0]},{"name":"PE *","abbr":"P *","specialist":"PT PE","color":[11,0]},{"name":"STEM","abbr":"S","specialist":"FT STEM","color":[8,0]},{"name":"STEM *","abbr":"S *","specialist":"PT STEM","color":[8,0]}],"classes":[],"palette":["#000","#fff","#ddd","#999","#f66","#fc8","#fe8","#be8","#6d9","#9ee","#4ad","#a8e","#f9e","#f23","#fa0","#ff0","#bf0","#7c0","#8ff","#0bf","#a2c","#f4f"]};
const SAMPLE_SCHEDULE = {"blocks":[{"start":"9:00","end":"9:45","n":0},{"start":"9:55","end":"10:40","n":1},{"start":"10:45","end":"11:30","n":2},{"start":"1:00","end":"1:40","n":3},{"start":"1:50","end":"2:30","n":4},{"start":"2:35","end":"3:15","n":5},"",{"start":"1:40","end":"2:00","n":4},{"start":"10:40","end":"11:00","n":2},{"start":"2:40","end":"3:00","n":5},{"start":"1:30","end":"1:50","n":3},{"start":"10:50","end":"11:10","n":2},{"start":"1:00","end":"1:20","n":3}],"grades":[{"name":"No Class","abbr":"NA","defaultBlock":0,"color":[2,3],"teachers":["Teacher A"]},{"name":"Pre-Kindergarten","abbr":"Pre-K","defaultBlock":0,"color":[21,0],"teachers":["AM","PM"]},{"name":"Kindergarten","abbr":"K","defaultBlock":3,"color":[13,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"1st Grade","abbr":"1st","defaultBlock":5,"color":[14,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"2nd Grade","abbr":"2nd","defaultBlock":4,"color":[15,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"3rd Grade","abbr":"3rd","defaultBlock":0,"color":[17,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"4th Grade","abbr":"4th","defaultBlock":1,"color":[19,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]},{"name":"5th Grade","abbr":"5th","defaultBlock":2,"color":[20,0],"teachers":["Teacher A","Teacher B","Teacher C","Teacher D","Teacher E"]}],"specials":[{"name":"No Special","abbr":"NS","specialist":"N/A","color":[2,3]},{"name":"Art","abbr":"A","specialist":"FT Art","color":[4,0]},{"name":"Art *","abbr":"A *","specialist":"PT Art","color":[4,0]},{"name":"Music","abbr":"M","specialist":"FT Music","color":[10,0]},{"name":"Music *","abbr":"M *","specialist":"PT Music","color":[10,0]},{"name":"PE","abbr":"P","specialist":"FT PE","color":[11,0]},{"name":"PE *","abbr":"P *","specialist":"PT PE","color":[11,0]},{"name":"STEM","abbr":"S","specialist":"FT STEM","color":[8,0]},{"name":"STEM *","abbr":"S *","specialist":"PT STEM","color":[8,0]}],"classes":[[3,0,2,0,1],[3,1,2,0,3],[3,2,2,0,5],[3,3,2,0,7],[3,0,2,1,3],[3,4,2,1,1],[3,2,2,1,7],[3,3,2,2,1],[3,4,2,2,3],[5,2,3,0,5],[3,1,2,2,7],[3,1,2,4,1],[3,3,2,3,3],[3,2,2,3,1],[3,0,2,3,7],[5,0,3,0,1],[5,1,3,0,3],[3,4,2,3,5],[5,3,3,0,7],[5,0,3,1,3],[5,1,3,1,5],[5,2,3,1,7],[5,4,3,1,1],[5,0,3,2,5],[5,3,3,2,1],[5,4,3,2,3],[5,0,3,3,7],[5,3,3,3,3],[5,2,3,3,1],[5,4,3,3,5],[5,1,3,4,1],[4,2,4,1,7],[5,4,3,4,7],[5,3,3,4,5],[5,1,3,2,7],[4,3,4,0,7],[4,0,4,0,1],[4,1,4,0,3],[4,2,4,0,5],[4,4,4,1,1],[4,0,4,1,3],[4,1,4,1,5],[5,2,3,4,3],[4,3,4,2,1],[4,4,4,2,3],[4,0,4,2,5],[4,1,4,2,7],[4,3,4,3,3],[4,4,4,3,5],[4,0,4,3,7],[4,2,4,3,1],[0,0,5,0,1],[0,1,5,0,3],[0,3,5,0,5],[0,4,5,0,7],[0,4,5,2,3],[0,0,5,2,5],[0,3,5,2,1],[0,1,5,1,5],[0,3,5,1,7],[0,4,5,1,1],[0,0,5,1,3],[0,0,5,3,7],[0,1,5,3,1],[0,3,5,3,3],[0,4,5,3,5],[0,0,5,4,2],[0,1,5,4,4],[0,3,5,4,6],[0,4,5,4,8],[1,0,6,0,1],[1,4,6,2,3],[1,3,6,0,5],[1,4,6,0,7],[1,0,6,1,3],[1,1,6,1,5],[1,3,6,1,7],[1,4,6,1,1],[1,0,6,2,5],[1,1,6,2,7],[1,3,6,2,1],[1,1,6,0,3],[1,0,6,3,7],[1,1,6,3,1],[1,3,6,3,3],[1,4,6,3,5],[1,0,6,4,2],[1,1,6,4,4],[1,3,6,4,6],[1,4,6,4,8],[2,1,7,3,1],[2,4,7,2,3],[2,0,7,2,5],[2,1,7,2,7],[2,3,7,3,3],[2,4,7,3,5],[2,0,7,3,7],[2,3,7,2,1],[2,3,7,0,5],[2,4,7,0,7],[2,0,7,0,1],[2,1,7,0,3],[2,3,7,1,7],[2,4,7,1,1],[2,0,7,1,3],[2,1,7,1,5],[2,0,7,4,2],[2,1,7,4,4],[2,3,7,4,6],[2,4,7,4,8],[0,1,5,2,7],[3,1,2,1,5],[3,2,2,4,3],[3,4,2,4,7],[3,3,2,4,5],[3,0,2,2,5],[4,1,4,4,1],[4,2,4,4,3],[4,3,4,4,5],[4,4,4,4,7]],"palette":["#000","#fff","#ddd","#999","#f66","#fc8","#fe8","#be8","#6d9","#9ee","#4ad","#a8e","#f9e","#f23","#fa0","#ff0","#bf0","#7c0","#8ff","#0bf","#a2c","#f4f"]}
const RETURN_SCHEDULE = {"blocks":[{"start":"9:00","end":"9:45","n":0},{"start":"9:55","end":"10:40","n":1},{"start":"10:45","end":"11:30","n":2},{"start":"1:00","end":"1:40","n":3},{"start":"1:50","end":"2:30","n":4},{"start":"2:35","end":"3:15","n":5},""],"grades":[{"name":"No Class","abbr":"NA","defaultBlock":0,"color":[2,3],"teachers":["Teacher A"]},{"name":"Pre-Kindergarten","abbr":"Pre-K","defaultBlock":0,"color":[21,0],"teachers":["AM","PM"]},{"name":"K Virtual","abbr":"K","defaultBlock":3,"color":[17,0],"teachers":["Hanlon/Rosario","Joyner","Smith","Linteris/Rosario"]},{"name":"K In Person","abbr":"K","defaultBlock":3,"color":[5,0],"teachers":["Castro","Do","Lazaro"]},{"name":"1st Virtual","abbr":"1st","defaultBlock":5,"color":[17,0],"teachers":["French","Ordonez/Park","Young/Park"]},{"name":"1st In Person","abbr":"1st","defaultBlock":5,"color":[5,0],"teachers":["Gunaratnam","Rios-Mujica","Weaver"]},{"name":"2nd Virtual","abbr":"2nd","defaultBlock":4,"color":[17,0],"teachers":["Batson","Molina","Rogers","Wilkerson"]},{"name":"2nd In Person","abbr":"2nd","defaultBlock":4,"color":[5,0],"teachers":["Campbell","Curzi","Menjivar"]},{"name":"3rd Virtual","abbr":"3rd","defaultBlock":0,"color":[17,0],"teachers":["Gomez","Wang"]},{"name":"3rd S-V","abbr":"3rd","defaultBlock":0,"color":[11,0],"teachers":["Craig/Harris","Fries/Harris"]},{"name":"3rd In Person","abbr":"3IP","defaultBlock":0,"color":[5,0],"teachers":["Johnson"]},{"name":"4th Virtual","abbr":"4th","defaultBlock":1,"color":[17,0],"teachers":["Kinsella","Macario","Molina","Parks"]},{"name":"4th S-V","abbr":"4th","defaultBlock":1,"color":[11,0],"teachers":["Armstrong/Fuller","Lazaro/Arnold"]},{"name":"5th Grade","abbr":"5th","defaultBlock":2,"color":[17,0],"teachers":["Francois","Woods","Ewing","Carl","Ward"]}],"specials":[{"name":"No Special","abbr":"NS","specialist":"N/A","color":[2,3]},{"name":"Art - Fowler","abbr":"A","specialist":"Fowler","color":[4,0]},{"name":"Art - McIntyre","abbr":"A *","specialist":"McIntyre","color":[4,0]},{"name":"Music - Russell","abbr":"M","specialist":"Russell","color":[10,0]},{"name":"Music - Caramanica","abbr":"M *","specialist":"Caramanica","color":[10,0]},{"name":"PE - Detzner","abbr":"P","specialist":"Detzner","color":[11,0]},{"name":"PE - Harding","abbr":"P *","specialist":"Harding","color":[11,0]},{"name":"STEM - Haskins","abbr":"S","specialist":"Haskins","color":[8,0]},{"name":"STEM - Dickey","abbr":"S *","specialist":"Dickey","color":[8,0]}],"classes":[[3,0,2,0,5],[3,1,2,0,7],[3,2,2,0,3],[3,3,2,0,2],[3,1,2,1,1],[3,2,2,1,6],[3,3,2,1,7],[3,4,2,1,3],[3,0,2,2,8],[3,2,2,2,4],[3,3,2,2,1],[3,4,2,2,6],[3,0,2,3,3],[3,1,2,3,5],[3,2,2,3,1],[3,3,2,3,8],[3,0,3,0,7],[3,1,3,0,2],[3,3,3,0,3],[3,4,3,0,5],[3,0,3,1,1],[3,1,3,1,3],[3,3,3,1,6],[3,4,3,1,8],[3,1,3,2,4],[3,2,3,2,7],[3,3,3,2,5],[3,4,3,2,2],[5,1,4,0,7],[5,2,4,0,4],[5,3,4,0,5],[5,4,4,0,2],[5,0,4,1,5],[5,2,4,1,8],[5,3,4,1,1],[5,4,4,1,3],[5,0,4,2,1],[5,2,4,2,7],[5,3,4,2,4],[5,4,4,2,6],[5,0,5,0,3],[5,1,5,0,5],[5,2,5,0,1],[5,3,5,0,8],[5,0,5,1,7],[5,2,5,1,3],[5,3,5,1,6],[5,4,5,1,1],[5,1,5,2,1],[5,2,5,2,6],[5,3,5,2,3],[5,4,5,2,7],[4,0,6,0,8],[4,2,6,0,1],[4,3,6,0,3],[4,4,6,0,5],[4,0,6,1,5],[4,1,6,1,7],[4,3,6,1,1],[4,4,6,1,3],[4,0,6,2,1],[4,1,6,2,3],[4,3,6,2,7],[4,4,6,2,6],[4,1,6,3,1],[4,2,6,3,3],[4,3,6,3,5],[4,4,6,3,7],[4,0,7,0,7],[4,1,7,0,2],[4,2,7,0,6],[4,3,7,0,4],[4,1,7,1,5],[4,2,7,1,4],[4,3,7,1,2],[4,4,7,1,8],[4,0,7,2,3],[4,2,7,2,7],[4,3,7,2,6],[4,4,7,2,1],[0,0,8,0,8],[0,1,8,0,4],[0,3,8,0,2],[0,4,8,0,5],[0,0,8,1,1],[0,1,8,1,3],[0,3,8,1,7],[0,4,8,1,6],[0,0,9,0,3],[0,1,9,0,8],[0,3,9,0,6],[0,4,9,0,1],[0,0,9,1,7],[0,1,9,1,5],[0,3,9,1,3],[0,4,9,1,2],[0,0,10,0,5],[0,1,10,0,1],[0,3,10,0,4],[0,4,10,0,7],[1,0,11,0,8],[1,1,11,0,4],[1,3,11,0,6],[1,4,11,0,2],[1,0,11,1,6],[1,1,11,1,3],[1,3,11,1,7],[1,4,11,1,1],[1,0,11,2,3],[1,1,11,2,5],[1,3,11,2,2],[1,4,11,2,7],[1,0,11,3,1],[1,1,11,3,7],[1,3,11,3,3],[1,4,11,3,6],[1,0,12,0,7],[1,1,12,0,1],[1,3,12,0,4],[1,4,12,0,5],[1,0,12,1,5],[1,1,12,1,8],[1,3,12,1,1],[1,4,12,1,3],[2,0,13,0,3],[2,1,13,0,7],[2,3,13,0,6],[2,4,13,0,2],[2,0,13,1,7],[2,1,13,1,4],[2,3,13,1,1],[2,4,13,1,5],[2,0,13,2,6],[2,1,13,2,3],[2,3,13,2,7],[2,4,13,2,1],[2,0,13,3,8],[2,1,13,3,5],[2,3,13,3,2],[2,4,13,3,3],[2,0,13,4,5],[2,1,13,4,1],[2,3,13,4,3],[2,4,13,4,7]],"palette":["#000","#fff","#ddd","#999","#f66","#fc8","#fe8","#be8","#6d9","#9ee","#4ad","#a8e","#f9e","#f23","#fa0","#ff0","#bf0","#7c0","#8ff","#0bf","#a2c","#f4f"]};

function make(el) {
    let $el = $(document.createElement(el));
    for (let i = 1; i < arguments.length; i++) {
        if (arguments[i].startsWith("#")){
            $el.attr("id", arguments[i].replace("#", ""));
        }
        else {
            $el.attr("class", arguments[i]);
        }
    }
    return $el;
}

$.fn.obj = function(){
    return $(this).closest("tr").data("obj");
}

$.fn.c = function() {
    return this.data("c");
}

function createStylesheet(id) {
    var stylesheet = document.createElement('style');
    stylesheet.type = 'text/css';
    stylesheet.id = id;
    document.head.appendChild(stylesheet);
    return stylesheet;
}

function writeCSSRules(gOrS, palette){
    let rules =  "." + gOrS.colorClass + "{background:" + palette[gOrS.color[0]] + ";color:" + palette[gOrS.color[1]] + ";}" +
            " ." + gOrS.colorClass + ".hvr{filter: brightness(70%);}" + 
            " ." + gOrS.colorClass + ":hover{filter: brightness(70%);}" + 
            " ." + gOrS.colorClass + ".selected{background:#000;color:" + palette[gOrS.color[0]] + ";}" +
            " .inv.sel."  + gOrS.colorClass + ":hover{background:" + palette[gOrS.color[0]] + "};";
    gOrS.stylesheet.innerHTML = rules;
}

$.fn.showPanel = function(panel){
    let frame = this;
    frame.children().detach();
    frame.append(panel);
    panel.show();
}